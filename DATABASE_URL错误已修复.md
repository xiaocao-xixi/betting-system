# âœ… é—®é¢˜å·²è§£å†³ï¼DATABASE_URL é”™è¯¯ä¿®å¤

## æ‚¨é‡åˆ°çš„é—®é¢˜

è¿è¡Œ `npx prisma migrate dev --name init` æ—¶å‡ºçŽ°ï¼š

```
Error: Environment variable not found: DATABASE_URL.
```

## ðŸŽ‰ å¥½æ¶ˆæ¯ï¼

**æˆ‘å·²ç»ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼** çŽ°åœ¨ä»“åº“åŒ…å«äº†é»˜è®¤çš„ `.env` æ–‡ä»¶ã€‚

## ðŸ”„ æ‚¨éœ€è¦åšä»€ä¹ˆ

### é€‰é¡¹ 1ï¼šæ‹‰å–æœ€æ–°ä»£ç ï¼ˆæŽ¨èï¼‰

å¦‚æžœæ‚¨æ˜¯ä»Ž GitHub å…‹éš†çš„ï¼Œæ›´æ–°åˆ°æœ€æ–°ä»£ç ï¼š

```bash
git pull origin copilot/add-betting-system
```

çŽ°åœ¨ `.env` æ–‡ä»¶åº”è¯¥å­˜åœ¨äº†ï¼

### é€‰é¡¹ 2ï¼šæ‰‹åŠ¨åˆ›å»º .env æ–‡ä»¶

å¦‚æžœæ‚¨ä¸æƒ³æ‹‰å–ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼š

**Windows:**
```cmd
echo DATABASE_URL="file:./dev.db" > .env
echo NODE_ENV="development" >> .env
```

**Mac/Linux:**
```bash
cat > .env << EOF
DATABASE_URL="file:./dev.db"
NODE_ENV="development"
EOF
```

### é€‰é¡¹ 3ï¼šä½¿ç”¨è‡ªåŠ¨è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰

è¿è¡Œæˆ‘æä¾›çš„è‡ªåŠ¨è®¾ç½®è„šæœ¬ï¼š

**Windows:**
```cmd
verify-setup.bat
```

**Mac/Linux:**
```bash
./verify-setup.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- âœ… æ£€æŸ¥ .env æ–‡ä»¶
- âœ… å¦‚æžœä¸å­˜åœ¨ï¼Œè‡ªåŠ¨åˆ›å»º
- âœ… è¿è¡Œæ‰€æœ‰å¿…è¦çš„è®¾ç½®æ­¥éª¤

## ðŸ“‹ å®Œæ•´çš„è®¾ç½®æµç¨‹

åˆ›å»º .env æ–‡ä»¶åŽï¼Œç»§ç»­ï¼š

```bash
# 1. è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma migrate dev --name init

# 2. ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma generate

# 3. å¡«å……æµ‹è¯•æ•°æ®
npm run prisma:seed

# 4. å¯åŠ¨åº”ç”¨
npm run dev
```

## ðŸ” éªŒè¯ .env æ–‡ä»¶

æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶åŒ…å«æ­£ç¡®å†…å®¹ï¼š

**Windows:**
```cmd
type .env
```

**Mac/Linux:**
```bash
cat .env
```

åº”è¯¥æ˜¾ç¤ºï¼š
```
DATABASE_URL="file:./dev.db"
NODE_ENV="development"
```

## ðŸ“š æˆ‘åˆ›å»ºçš„æ–‡æ¡£

ä¸ºäº†å¸®åŠ©æ‚¨å’Œå…¶ä»–ç”¨æˆ·ï¼Œæˆ‘åˆ›å»ºäº†è¯¦ç»†çš„æ–‡æ¡£ï¼š

1. **[è§£å†³DATABASE_URLé”™è¯¯.md](./è§£å†³DATABASE_URLé”™è¯¯.md)** â­
   - ä¸“é—¨é’ˆå¯¹è¿™ä¸ªé”™è¯¯çš„å®Œæ•´æŒ‡å—
   - 3 ç§è§£å†³æ–¹æ³•
   - å¸¸è§é—®é¢˜è§£ç­”

2. **[TROUBLESHOOTING.md](./TROUBLESHOOTING.md)**
   - å·²æ·»åŠ  DATABASE_URL é”™è¯¯æ¡ç›®
   - åŒ…å«å…¶ä»–å¸¸è§é—®é¢˜

3. **[æ•°æ®åº“åˆå§‹åŒ–æŒ‡å—.md](./æ•°æ®åº“åˆå§‹åŒ–æŒ‡å—.md)**
   - å·²æ›´æ–°ï¼Œè¯´æ˜Ž .env çŽ°åœ¨å·²é¢„é…ç½®

## ðŸ’¡ ä¸ºä»€ä¹ˆä¼šå‡ºçŽ°è¿™ä¸ªé—®é¢˜ï¼Ÿ

`.env` æ–‡ä»¶åŒ…å«çŽ¯å¢ƒå˜é‡é…ç½®ã€‚Prisma éœ€è¦ `DATABASE_URL` æ¥çŸ¥é“å¦‚ä½•è¿žæŽ¥æ•°æ®åº“ã€‚

ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œ`.env` æ–‡ä»¶æ²¡æœ‰è¢«æäº¤åˆ°ä»“åº“ï¼ˆè¿™æ˜¯å¸¸è§åšæ³•ï¼‰ï¼Œæ‰€ä»¥ç”¨æˆ·éœ€è¦æ‰‹åŠ¨åˆ›å»ºã€‚

çŽ°åœ¨æˆ‘å·²ç»æ·»åŠ äº†é»˜è®¤çš„ `.env` æ–‡ä»¶ï¼Œå› ä¸ºï¼š
- âœ… è¿™æ˜¯æ¼”ç¤ºé¡¹ç›®ï¼Œæ²¡æœ‰æ•æ„Ÿä¿¡æ¯
- âœ… åªåŒ…å«æœ¬åœ° SQLite é…ç½®
- âœ… è®©æ–°æ‰‹æ›´å®¹æ˜“ä¸Šæ‰‹

## ðŸŽ¯ å¿«é€Ÿæ€»ç»“

**å¦‚æžœæ‚¨åˆšå…‹éš†ä»“åº“ï¼š**
```bash
git pull                          # èŽ·å–æœ€æ–°ä»£ç ï¼ˆåŒ…å« .envï¼‰
npm install                       # å®‰è£…ä¾èµ–
npx prisma migrate dev --name init # çŽ°åœ¨åº”è¯¥å¯ä»¥å·¥ä½œï¼
npm run prisma:seed              # å¡«å……æ•°æ®
npm run dev                      # å¯åŠ¨
```

**å¦‚æžœæ‚¨å·²ç»åœ¨å·¥ä½œç›®å½•ï¼š**
```bash
# åªéœ€åˆ›å»º .env æ–‡ä»¶
copy .env.example .env  # Windows
cp .env.example .env    # Mac/Linux

# æˆ–è¿è¡Œè‡ªåŠ¨è„šæœ¬
verify-setup.bat        # Windows
./verify-setup.sh       # Mac/Linux
```

---

**çŽ°åœ¨åº”è¯¥ä¸€åˆ‡æ­£å¸¸äº†ï¼** ðŸš€

å¦‚æžœè¿˜æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [è§£å†³DATABASE_URLé”™è¯¯.md](./è§£å†³DATABASE_URLé”™è¯¯.md) èŽ·å–æ›´å¤šå¸®åŠ©ã€‚
